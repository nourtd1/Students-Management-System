const express = require('express'); const resultController = require('../controllers/resultController'); const authController = require('../controllers/authController'); const router = express.Router(); router.use(authController.protect); router.get('/stats', resultController.getResultStats); router.get('/subject/:subject', resultController.getResultsBySubject); router.get('/student/:studentId/average', resultController.calculateStudentAverage); router.route('/').get(resultController.getAllResults).post(resultController.createResult); router.route('/:id').get(resultController.getResult).patch(resultController.updateResult).delete(authController.restrictTo('admin'), resultController.deleteResult); module.exports = router;
